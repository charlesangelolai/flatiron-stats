<%= render partial: "/layouts/header", locals: { header_name: "#{@category.name}" } %>

<div class="mt-3 mb-3">
  <p class="fst-italic"><%= @category.description %></p>
</div>

<table class="table table-striped">
  <tr>
    <th><%= sortable "title" %></th>
    <th>Total Comments</th>
    <th>Created By</th>
    <th><%= sortable "created_at", "Created At" %></th>
  </tr>

  <% @posts.each do |post| %>
    <tr>
      <td><%= link_to post.title, category_post_path(@category, post), class: "link-dark" %></td>
      <td><%= post.comments.count %></td>
      <td><%= post.user.full_name %></td>
      <td><%= post.created_at %></td>
    </tr>
  <% end %>
</table>

<%= link_to "Create New Post", new_category_post_path(@category), class: "btn btn-dark" %>