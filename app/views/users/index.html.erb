<%= render partial: "/layouts/header_with_search", locals: { header_name: "Users List", search_name: "Search Users: " } %>

<table class="table table-striped">
  <tr>
    <th><%= sortable "first_name", "Full Name" %></th>
    <th><%= sortable "email" %></th>
    <th>Cohort</th>
    <th>Total Projects</th>
    <th><%= sortable "created_at", "Date Joined" %>  </th>
    <th><%= sortable "last_sign_in_at", "Last Active" %> </th>
    <th>Actions</th>
  </tr>

  <% @users.each do |user| %>
    <tr>
      <td><%= link_to user.full_name, user_path(user), class: "link-dark" %></td>
      <td><%= user.email %></td>
      <td><%= link_to user.cohort.name, cohort_path(user.cohort), class: "link-dark" %> </td>
      <td><%= user.projects.count %></td>
      <td><%= user.created_at %></td>
      <td><%= user.last_sign_in_at %></td>
      <th><%= link_to "Edit", edit_user_path(user), class: "link-dark" %> | <%= link_to "Delete", user_path(user), method: "delete", class: "link-dark" %></th>
    </tr>
  <% end %>
</table>